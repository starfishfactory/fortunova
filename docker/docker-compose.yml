version: '3.8'

services:
  fortunova:
    build:
      context: ..
      dockerfile: docker/Dockerfile
    container_name: fortunova
    restart: unless-stopped
    ports:
      - '3000:3000'
    volumes:
      - fortunova-data:/app/data
    environment:
      - NODE_ENV=production
      - DATABASE_PATH=/app/data/fortunova.db
      - JWT_SECRET=${JWT_SECRET:-change-me-in-production}
    deploy:
      resources:
        limits:
          memory: 512M
          cpus: '2'

volumes:
  fortunova-data:
